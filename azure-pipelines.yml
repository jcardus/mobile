# Xcode
trigger:
- mobile-dev

pool:
  vmImage: 'macos-latest'

steps:
- task: DownloadSecureFile@1
  name: caCertificate
  displayName: 'Download CA certificate'
  inputs:
    secureFile: 'azuredevops.mobileprovision'

- script: |
    echo Installing $(caCertificate.secureFilePath) to the trusted CA directory...
    sudo chown root:root $(caCertificate.secureFilePath)
    sudo chmod a+r $(caCertificate.secureFilePath)
    sudo ln -s /etc/ssl/certs/ $(caCertificate.secureFilePath)
- task: Bash@3
  inputs:
    targetType: 'inline'
    script: |
      # Write your commands here
      npm install
      npm run-script deploy:ios:localizalia:beta
      
